:root{--bg: #343541;--sidebar-bg: #202123;--message-bg-user: #343541;--message-bg-ai: #444654;--input-bg: #40414f;--text-primary: #ececf1;--text-secondary: #c5c5d2;--border: #565869;--button-bg: #19c37d;--button-hover: #1a7f5f;--button-text: #ffffff;--danger: #ff3b30;--danger-hover: #cc2e24;--danger-bg-soft: rgba(255, 59, 48, 0.2);--code-inline-bg: rgba(0, 0, 0, 0.3);--code-block-bg: #000000;--code-block-text: #e5e5e5;--scrollbar-thumb: rgba(255, 255, 255, 0.1);--scrollbar-thumb-hover: rgba(255, 255, 255, 0.2);--modal-overlay: rgba(0, 0, 0, 0.7);--modal-shadow: rgba(0, 0, 0, 0.4);--white: #ffffff;font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto","Helvetica", "Arial", sans-serif;}
*{box-sizing: border-box;margin: 0;padding: 0;}
html,body{height: 100%;margin: 0;background: var(--bg);color: var(--text-primary);overflow-x: hidden;overflow-y: hidden;}
body{position: relative;}
.app{height: 100vh;display: flex;flex-direction: column;transition: transform 0.3s ease;will-change: transform;}
body.sidebar-open .app{transform: translateX(280px);}
.chat-box{flex: 1;display: flex;flex-direction: column;overflow: hidden;}
.messages{flex: 1;overflow-y: auto;display: flex;flex-direction: column;}
.message{width: 100%;padding: 24px 0;display: flex;justify-content: center;}
.message.user{background: var(--message-bg-user);}
.message.ai{background: var(--message-bg-ai);}
.message > div{max-width: 48rem;width: 100%;padding: 0 1rem;}
.message.user > div,
.message.ai > div{color: var(--text-primary);}
.message.ai{line-height: 1.75;}
.message.ai h1,
.message.ai h2,
.message.ai h3{margin-top: 1.5rem;margin-bottom: 0.5rem;font-weight: 600;color: var(--text-primary);}
.message.ai h1:first-child,
.message.ai h2:first-child,
.message.ai h3:first-child{margin-top: 0;}
.message.ai h1{font-size: 1.5rem;}
.message.ai h2{font-size: 1.25rem;}
.message.ai h3{font-size: 1.1rem;}
.message.ai p{margin-bottom: 1rem;color: var(--text-primary);}
.message.ai p:last-child{margin-bottom: 0;}
.message.ai ul,
.message.ai ol{margin: 0.5rem 0 1rem 0;padding-left: 1.5rem;}
.message.ai li{margin-bottom: 0.25rem;}
.message.ai code{background: var(--code-inline-bg);padding: 0.2em 0.4em;border-radius: 3px;font-family: "SÃ¶hne Mono", Monaco, "Courier New", monospace;font-size: 0.85em;color: var(--text-primary);}
.message.ai pre{background: var(--code-block-bg);color: var(--code-block-text);padding: 1rem;border-radius: 6px;overflow-x: auto;margin: 1rem 0;}
.message.ai pre code{background: none;padding: 0;color: inherit;font-size: 0.875rem;}
.message.ai strong{font-weight: 600;color: var(--text-primary);}
.message.ai em{font-style: italic;}
.meta{font-size: 0.75rem;color: var(--text-secondary);margin-top: 8px;opacity: 0.7;}
.input-form{padding: 12px;background: var(--bg);display: flex;gap: 8px;align-items: flex-end;width: 100%;margin-top: 0.5rem;border-top: 1px solid var(--border);}
.input-form select{padding: 16px 2px;border-radius: 6px;border: 1px solid var(--border);background: var(--input-bg);color: var(--text-primary);cursor: pointer;font-size: 0.875rem;flex-shrink: 0;width: 150px;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;}
.input-form select:focus{outline: none;border-color: var(--text-secondary);}
.input-form select option{white-space: normal;}
.input-form textarea{flex: 1;padding: 12px 16px;border-radius: 6px;border: 1px solid var(--border);background: var(--input-bg);color: var(--text-primary);font-size: 1rem;font-family: inherit;resize: none;overflow-y: auto;min-height: 44px;max-height: 200px;line-height: 1.5;}
.input-form textarea::placeholder{color: var(--text-secondary);opacity: 0.6;}
.input-form textarea:focus{outline: none;border-color: var(--text-secondary);}
.input-form textarea::-webkit-scrollbar{width: 6px;}
.input-form textarea::-webkit-scrollbar-track{background: transparent;}
.input-form textarea::-webkit-scrollbar-thumb{background: var(--scrollbar-thumb-hover);border-radius: 3px;}
.input-form textarea::-webkit-scrollbar-thumb:hover{background: var(--scrollbar-thumb-hover);}
.input-form button{padding: 16px;border-radius: 6px;border: none;background: var(--button-bg);color: var(--button-text);cursor: pointer;font-weight: 600;font-size: 0.875rem;transition: background 0.2s ease;white-space: nowrap;flex-shrink: 0;}
.input-form button:hover{background: var(--button-hover);}
.input-form button:disabled{opacity: 0.5;cursor: not-allowed;}
.messages::-webkit-scrollbar{width: 8px;}
.messages::-webkit-scrollbar-track{background: transparent;}
.messages::-webkit-scrollbar-thumb{background: var(--scrollbar-thumb);border-radius: 4px;}
.messages::-webkit-scrollbar-thumb:hover{background: var(--scrollbar-thumb-hover);}

.sidebar{position: fixed;top: 0;left: 0;width: 280px;height: 100vh;background: var(--sidebar-bg);transform: translateX(-280px);transition: transform 0.3s ease;z-index: 1000;display: flex;flex-direction: column;border-right: 1px solid var(--border);}
body.sidebar-open .sidebar{transform: translateX(0);}
.sidebar-header{padding: 16px;border-bottom: 1px solid var(--border);}
.sidebar-header h2{font-size: 1rem;font-weight: 600;color: var(--text-primary);margin-bottom: 12px;}
.new-chat-btn{width: 100%;padding: 10px;background: var(--input-bg);border: 1px solid var(--border);border-radius: 6px;color: var(--text-primary);cursor: pointer;font-size: 0.875rem;font-weight: 500;transition: all 0.2s ease;}
.new-chat-btn:hover{background: var(--message-bg-ai);}
.conversation-list{flex: 1;overflow-y: auto;padding: 8px;}
.conversation-list::-webkit-scrollbar{width: 6px;}
.conversation-list::-webkit-scrollbar-track{background: transparent;}
.conversation-list::-webkit-scrollbar-thumb{background: var(--scrollbar-thumb);border-radius: 3px;}
.conversation-list::-webkit-scrollbar-thumb:hover{background: var(--scrollbar-thumb-hover);}
.conversation-item{min-height:2.75rem;position: relative;padding: 12px;margin-bottom: 4px;background: var(--input-bg);border-radius: 6px;cursor: pointer;transition: all 0.2s ease;display: flex;align-items: center;justify-content: space-between;}
.conversation-item:hover{background: var(--message-bg-ai);}
.conversation-item.active{background: var(--message-bg-ai);border-left: 3px solid var(--button-bg);}
.conversation-preview{flex: 1;font-size: 0.875rem;color: var(--text-primary);white-space: nowrap;overflow: hidden;text-overflow: ellipsis;padding-right: 8px;}
.delete-btn{position:relative;display: none;width: 20px;height: 20px;background: transparent;border: none;color: var(--text-secondary);font-size: 1.5rem;line-height: 1;cursor: pointer;border-radius: 4px;transition: all 0.2s ease;flex-shrink: 0;}
.conversation-item:hover .delete-btn{display: block;}
.delete-btn:hover{background: var(--danger-bg-soft);color: var(--danger);}
.no-conversations{padding: 24px;text-align: center;color: var(--text-secondary);font-size: 0.875rem;}
.sidebar-toggle{position: fixed;top: 14px;left: 14px;width: 44px;height: 44px;background: none;border: 0.5px solid var(--border);border-radius: 8px;cursor: pointer;z-index: 1001;display: flex;align-items: center;justify-content: center;transition: transform 0.3s ease;}
.sidebar-toggle:hover{background: var(--message-bg-ai);}
body.sidebar-open .sidebar-toggle{transform: translateX(280px);}
.hamburger{width: 20px;height: 16px;display: flex;flex-direction: column;justify-content: space-between;}
.hamburger span{display: block;width: 100%;height: 2px;background: var(--text-primary);border-radius: 2px;transition: all 0.3s ease;}
.sidebar-toggle.open .hamburger span:nth-child(1){transform: translateY(7px) rotate(45deg);}
.sidebar-toggle.open .hamburger span:nth-child(2){opacity: 0;}
.sidebar-toggle.open .hamburger span:nth-child(3){transform: translateY(-7px) rotate(-45deg);}
.modal{display: none;position: fixed;top: 0;left: 0;width: 100%;height: 100%;background: var(--modal-overlay);z-index: 2000;align-items: center;justify-content: center;}
.modal.show{display: flex;}
.modal-content{background: var(--sidebar-bg);border: 1px solid var(--border);border-radius: 12px;padding: 24px;max-width: 400px;width: 90%;box-shadow: 0 4px 24px var(--modal-shadow);}
.modal-content h3{font-size: 1.25rem;font-weight: 600;color: var(--text-primary);margin-bottom: 12px;}
.modal-content p{font-size: 0.875rem;color: var(--text-secondary);margin-bottom: 24px;}
.modal-buttons{display: flex;gap: 12px;justify-content: flex-end;}
.modal-buttons button{padding: 10px 20px;border: none;border-radius: 6px;font-size: 0.875rem;font-weight: 600;cursor: pointer;transition: all 0.2s ease;}
.btn-delete{background: var(--danger);color: var(--white);}
.btn-delete:hover{background: var(--danger-hover);}
.btn-cancel{background: var(--input-bg);color: var(--text-primary);border: 1px solid var(--border);}
.btn-cancel:hover{background: var(--message-bg-ai);}
@media (max-width: 768px){.sidebar{width: 260px;transform: translateX(-260px);}
body.sidebar-open .sidebar{transform: translateX(0);}
body.sidebar-open .app{transform: translateX(260px);}
body.sidebar-open .sidebar-toggle{transform: translateX(260px);}}